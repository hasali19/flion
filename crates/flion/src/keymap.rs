use winit::keyboard::{Key, NamedKey, SmolStr};

pub fn to_flutter(key: &Key<SmolStr>) -> Option<u64> {
    Some(match key {
        Key::Character(ch) => {
            if !(1..=4).contains(&ch.len()) {
                return None;
            }

            let mut bytes = [0u8; 4];
            bytes[..ch.len()].copy_from_slice(ch.as_bytes());

            u32::from_le_bytes(bytes) as u64
        }
        Key::Named(key) => match key {
            NamedKey::Space => 0x00000000020,
            NamedKey::Backspace => 0x00100000008,
            NamedKey::Tab => 0x00100000009,
            NamedKey::Enter => 0x0010000000d,
            NamedKey::Escape => 0x0010000001b,
            NamedKey::Delete => 0x0010000007f,
            NamedKey::AltGraph => 0x00100000103,
            NamedKey::CapsLock => 0x00100000104,
            NamedKey::Fn => 0x00100000106,
            NamedKey::FnLock => 0x00100000107,
            NamedKey::Hyper => 0x00100000108,
            NamedKey::NumLock => 0x0010000010a,
            NamedKey::ScrollLock => 0x0010000010c,
            NamedKey::Super => 0x0010000010e,
            NamedKey::Symbol => 0x0010000010f,
            NamedKey::SymbolLock => 0x00100000110,
            NamedKey::ArrowDown => 0x00100000301,
            NamedKey::ArrowLeft => 0x00100000302,
            NamedKey::ArrowRight => 0x00100000303,
            NamedKey::ArrowUp => 0x00100000304,
            NamedKey::End => 0x00100000305,
            NamedKey::Home => 0x00100000306,
            NamedKey::PageDown => 0x00100000307,
            NamedKey::PageUp => 0x00100000308,
            NamedKey::Clear => 0x00100000401,
            NamedKey::Copy => 0x00100000402,
            NamedKey::CrSel => 0x00100000403,
            NamedKey::Cut => 0x00100000404,
            NamedKey::EraseEof => 0x00100000405,
            NamedKey::ExSel => 0x00100000406,
            NamedKey::Insert => 0x00100000407,
            NamedKey::Paste => 0x00100000408,
            NamedKey::Redo => 0x00100000409,
            NamedKey::Undo => 0x0010000040a,
            NamedKey::Accept => 0x00100000501,
            NamedKey::Again => 0x00100000502,
            NamedKey::Attn => 0x00100000503,
            NamedKey::Cancel => 0x00100000504,
            NamedKey::ContextMenu => 0x00100000505,
            NamedKey::Execute => 0x00100000506,
            NamedKey::Find => 0x00100000507,
            NamedKey::Help => 0x00100000508,
            NamedKey::Pause => 0x00100000509,
            NamedKey::Play => 0x0010000050a,
            NamedKey::Props => 0x0010000050b,
            NamedKey::Select => 0x0010000050c,
            NamedKey::ZoomIn => 0x0010000050d,
            NamedKey::ZoomOut => 0x0010000050e,
            NamedKey::BrightnessDown => 0x00100000601,
            NamedKey::BrightnessUp => 0x00100000602,
            NamedKey::Camera => 0x00100000603,
            NamedKey::Eject => 0x00100000604,
            NamedKey::LogOff => 0x00100000605,
            NamedKey::Power => 0x00100000606,
            NamedKey::PowerOff => 0x00100000607,
            NamedKey::PrintScreen => 0x00100000608,
            NamedKey::Hibernate => 0x00100000609,
            NamedKey::Standby => 0x0010000060a,
            NamedKey::WakeUp => 0x0010000060b,
            NamedKey::AllCandidates => 0x00100000701,
            NamedKey::Alphanumeric => 0x00100000702,
            NamedKey::CodeInput => 0x00100000703,
            NamedKey::Compose => 0x00100000704,
            NamedKey::Convert => 0x00100000705,
            NamedKey::FinalMode => 0x00100000706,
            NamedKey::GroupFirst => 0x00100000707,
            NamedKey::GroupLast => 0x00100000708,
            NamedKey::GroupNext => 0x00100000709,
            NamedKey::GroupPrevious => 0x0010000070a,
            NamedKey::ModeChange => 0x0010000070b,
            NamedKey::NextCandidate => 0x0010000070c,
            NamedKey::NonConvert => 0x0010000070d,
            NamedKey::PreviousCandidate => 0x0010000070e,
            NamedKey::Process => 0x0010000070f,
            NamedKey::SingleCandidate => 0x00100000710,
            NamedKey::HangulMode => 0x00100000711,
            NamedKey::HanjaMode => 0x00100000712,
            NamedKey::JunjaMode => 0x00100000713,
            NamedKey::Eisu => 0x00100000714,
            NamedKey::Hankaku => 0x00100000715,
            NamedKey::Hiragana => 0x00100000716,
            NamedKey::HiraganaKatakana => 0x00100000717,
            NamedKey::KanaMode => 0x00100000718,
            NamedKey::KanjiMode => 0x00100000719,
            NamedKey::Katakana => 0x0010000071a,
            NamedKey::Romaji => 0x0010000071b,
            NamedKey::Zenkaku => 0x0010000071c,
            NamedKey::ZenkakuHankaku => 0x0010000071d,
            NamedKey::F1 => 0x00100000801,
            NamedKey::F2 => 0x00100000802,
            NamedKey::F3 => 0x00100000803,
            NamedKey::F4 => 0x00100000804,
            NamedKey::F5 => 0x00100000805,
            NamedKey::F6 => 0x00100000806,
            NamedKey::F7 => 0x00100000807,
            NamedKey::F8 => 0x00100000808,
            NamedKey::F9 => 0x00100000809,
            NamedKey::F10 => 0x0010000080a,
            NamedKey::F11 => 0x0010000080b,
            NamedKey::F12 => 0x0010000080c,
            NamedKey::F13 => 0x0010000080d,
            NamedKey::F14 => 0x0010000080e,
            NamedKey::F15 => 0x0010000080f,
            NamedKey::F16 => 0x00100000810,
            NamedKey::F17 => 0x00100000811,
            NamedKey::F18 => 0x00100000812,
            NamedKey::F19 => 0x00100000813,
            NamedKey::F20 => 0x00100000814,
            NamedKey::F21 => 0x00100000815,
            NamedKey::F22 => 0x00100000816,
            NamedKey::F23 => 0x00100000817,
            NamedKey::F24 => 0x00100000818,
            NamedKey::Soft1 => 0x00100000901,
            NamedKey::Soft2 => 0x00100000902,
            NamedKey::Soft3 => 0x00100000903,
            NamedKey::Soft4 => 0x00100000904,
            NamedKey::Close => 0x00100000a01,
            NamedKey::MailForward => 0x00100000a02,
            NamedKey::MailReply => 0x00100000a03,
            NamedKey::MailSend => 0x00100000a04,
            NamedKey::MediaPlayPause => 0x00100000a05,
            NamedKey::MediaStop => 0x00100000a07,
            NamedKey::MediaTrackNext => 0x00100000a08,
            NamedKey::MediaTrackPrevious => 0x00100000a09,
            NamedKey::New => 0x00100000a0a,
            NamedKey::Open => 0x00100000a0b,
            NamedKey::Print => 0x00100000a0c,
            NamedKey::Save => 0x00100000a0d,
            NamedKey::SpellCheck => 0x00100000a0e,
            NamedKey::AudioVolumeDown => 0x00100000a0f,
            NamedKey::AudioVolumeUp => 0x00100000a10,
            NamedKey::AudioVolumeMute => 0x00100000a11,
            NamedKey::LaunchApplication2 => 0x00100000b01,
            NamedKey::LaunchCalendar => 0x00100000b02,
            NamedKey::LaunchMail => 0x00100000b03,
            NamedKey::LaunchMediaPlayer => 0x00100000b04,
            NamedKey::LaunchMusicPlayer => 0x00100000b05,
            NamedKey::LaunchApplication1 => 0x00100000b06,
            NamedKey::LaunchScreenSaver => 0x00100000b07,
            NamedKey::LaunchSpreadsheet => 0x00100000b08,
            NamedKey::LaunchWebBrowser => 0x00100000b09,
            NamedKey::LaunchWebCam => 0x00100000b0a,
            NamedKey::LaunchWordProcessor => 0x00100000b0b,
            NamedKey::LaunchContacts => 0x00100000b0c,
            NamedKey::LaunchPhone => 0x00100000b0d,
            NamedKey::BrowserBack => 0x00100000c01,
            NamedKey::BrowserFavorites => 0x00100000c02,
            NamedKey::BrowserForward => 0x00100000c03,
            NamedKey::BrowserHome => 0x00100000c04,
            NamedKey::BrowserRefresh => 0x00100000c05,
            NamedKey::BrowserSearch => 0x00100000c06,
            NamedKey::BrowserStop => 0x00100000c07,
            NamedKey::AudioBalanceLeft => 0x00100000d01,
            NamedKey::AudioBalanceRight => 0x00100000d02,
            NamedKey::AudioBassBoostDown => 0x00100000d03,
            NamedKey::AudioBassBoostUp => 0x00100000d04,
            NamedKey::AudioFaderFront => 0x00100000d05,
            NamedKey::AudioFaderRear => 0x00100000d06,
            NamedKey::AudioSurroundModeNext => 0x00100000d07,
            NamedKey::AVRInput => 0x00100000d08,
            NamedKey::AVRPower => 0x00100000d09,
            NamedKey::ChannelDown => 0x00100000d0a,
            NamedKey::ChannelUp => 0x00100000d0b,
            NamedKey::ColorF0Red => 0x00100000d0c,
            NamedKey::ColorF1Green => 0x00100000d0d,
            NamedKey::ColorF2Yellow => 0x00100000d0e,
            NamedKey::ColorF3Blue => 0x00100000d0f,
            NamedKey::ColorF4Grey => 0x00100000d10,
            NamedKey::ColorF5Brown => 0x00100000d11,
            NamedKey::ClosedCaptionToggle => 0x00100000d12,
            NamedKey::Dimmer => 0x00100000d13,
            NamedKey::DisplaySwap => 0x00100000d14,
            NamedKey::Exit => 0x00100000d15,
            NamedKey::FavoriteClear0 => 0x00100000d16,
            NamedKey::FavoriteClear1 => 0x00100000d17,
            NamedKey::FavoriteClear2 => 0x00100000d18,
            NamedKey::FavoriteClear3 => 0x00100000d19,
            NamedKey::FavoriteRecall0 => 0x00100000d1a,
            NamedKey::FavoriteRecall1 => 0x00100000d1b,
            NamedKey::FavoriteRecall2 => 0x00100000d1c,
            NamedKey::FavoriteRecall3 => 0x00100000d1d,
            NamedKey::FavoriteStore0 => 0x00100000d1e,
            NamedKey::FavoriteStore1 => 0x00100000d1f,
            NamedKey::FavoriteStore2 => 0x00100000d20,
            NamedKey::FavoriteStore3 => 0x00100000d21,
            NamedKey::Guide => 0x00100000d22,
            NamedKey::GuideNextDay => 0x00100000d23,
            NamedKey::GuidePreviousDay => 0x00100000d24,
            NamedKey::Info => 0x00100000d25,
            NamedKey::InstantReplay => 0x00100000d26,
            NamedKey::Link => 0x00100000d27,
            NamedKey::ListProgram => 0x00100000d28,
            NamedKey::LiveContent => 0x00100000d29,
            NamedKey::Lock => 0x00100000d2a,
            NamedKey::MediaApps => 0x00100000d2b,
            NamedKey::MediaFastForward => 0x00100000d2c,
            NamedKey::MediaLast => 0x00100000d2d,
            NamedKey::MediaPause => 0x00100000d2e,
            NamedKey::MediaPlay => 0x00100000d2f,
            NamedKey::MediaRecord => 0x00100000d30,
            NamedKey::MediaRewind => 0x00100000d31,
            NamedKey::NextFavoriteChannel => 0x00100000d33,
            NamedKey::NextUserProfile => 0x00100000d34,
            NamedKey::OnDemand => 0x00100000d35,
            NamedKey::PinPDown => 0x00100000d36,
            NamedKey::PinPMove => 0x00100000d37,
            NamedKey::PinPToggle => 0x00100000d38,
            NamedKey::PinPUp => 0x00100000d39,
            NamedKey::PlaySpeedDown => 0x00100000d3a,
            NamedKey::PlaySpeedReset => 0x00100000d3b,
            NamedKey::PlaySpeedUp => 0x00100000d3c,
            NamedKey::RandomToggle => 0x00100000d3d,
            NamedKey::RcLowBattery => 0x00100000d3e,
            NamedKey::RecordSpeedNext => 0x00100000d3f,
            NamedKey::RfBypass => 0x00100000d40,
            NamedKey::ScanChannelsToggle => 0x00100000d41,
            NamedKey::ScreenModeNext => 0x00100000d42,
            NamedKey::Settings => 0x00100000d43,
            NamedKey::SplitScreenToggle => 0x00100000d44,
            NamedKey::STBInput => 0x00100000d45,
            NamedKey::STBPower => 0x00100000d46,
            NamedKey::Subtitle => 0x00100000d47,
            NamedKey::Teletext => 0x00100000d48,
            NamedKey::TV => 0x00100000d49,
            NamedKey::TVInput => 0x00100000d4a,
            NamedKey::TVPower => 0x00100000d4b,
            NamedKey::VideoModeNext => 0x00100000d4c,
            NamedKey::Wink => 0x00100000d4d,
            NamedKey::ZoomToggle => 0x00100000d4e,
            NamedKey::DVR => 0x00100000d4f,
            NamedKey::MediaAudioTrack => 0x00100000d50,
            NamedKey::MediaSkipBackward => 0x00100000d51,
            NamedKey::MediaSkipForward => 0x00100000d52,
            NamedKey::MediaStepBackward => 0x00100000d53,
            NamedKey::MediaStepForward => 0x00100000d54,
            NamedKey::MediaTopMenu => 0x00100000d55,
            NamedKey::NavigateIn => 0x00100000d56,
            NamedKey::NavigateNext => 0x00100000d57,
            NamedKey::NavigateOut => 0x00100000d58,
            NamedKey::NavigatePrevious => 0x00100000d59,
            NamedKey::Pairing => 0x00100000d5a,
            NamedKey::MediaClose => 0x00100000d5b,
            NamedKey::AudioBassBoostToggle => 0x00100000e02,
            NamedKey::AudioTrebleDown => 0x00100000e04,
            NamedKey::AudioTrebleUp => 0x00100000e05,
            NamedKey::MicrophoneToggle => 0x00100000e06,
            NamedKey::MicrophoneVolumeDown => 0x00100000e07,
            NamedKey::MicrophoneVolumeUp => 0x00100000e08,
            NamedKey::MicrophoneVolumeMute => 0x00100000e09,
            NamedKey::SpeechCorrectionList => 0x00100000f01,
            NamedKey::SpeechInputToggle => 0x00100000f02,
            NamedKey::AppSwitch => 0x00100001001,
            NamedKey::Call => 0x00100001002,
            NamedKey::CameraFocus => 0x00100001003,
            NamedKey::EndCall => 0x00100001004,
            NamedKey::GoBack => 0x00100001005,
            NamedKey::GoHome => 0x00100001006,
            NamedKey::HeadsetHook => 0x00100001007,
            NamedKey::LastNumberRedial => 0x00100001008,
            NamedKey::Notification => 0x00100001009,
            NamedKey::MannerMode => 0x0010000100a,
            NamedKey::VoiceDial => 0x0010000100b,
            NamedKey::TV3DMode => 0x00100001101,
            NamedKey::TVAntennaCable => 0x00100001102,
            NamedKey::TVAudioDescription => 0x00100001103,
            NamedKey::TVAudioDescriptionMixDown => 0x00100001104,
            NamedKey::TVAudioDescriptionMixUp => 0x00100001105,
            NamedKey::TVContentsMenu => 0x00100001106,
            NamedKey::TVDataService => 0x00100001107,
            NamedKey::TVInputComponent1 => 0x00100001108,
            NamedKey::TVInputComponent2 => 0x00100001109,
            NamedKey::TVInputComposite1 => 0x0010000110a,
            NamedKey::TVInputComposite2 => 0x0010000110b,
            NamedKey::TVInputHDMI1 => 0x0010000110c,
            NamedKey::TVInputHDMI2 => 0x0010000110d,
            NamedKey::TVInputHDMI3 => 0x0010000110e,
            NamedKey::TVInputHDMI4 => 0x0010000110f,
            NamedKey::TVInputVGA1 => 0x00100001110,
            NamedKey::TVMediaContext => 0x00100001111,
            NamedKey::TVNetwork => 0x00100001112,
            NamedKey::TVNumberEntry => 0x00100001113,
            NamedKey::TVRadioService => 0x00100001114,
            NamedKey::TVSatellite => 0x00100001115,
            NamedKey::TVSatelliteBS => 0x00100001116,
            NamedKey::TVSatelliteCS => 0x00100001117,
            NamedKey::TVSatelliteToggle => 0x00100001118,
            NamedKey::TVTerrestrialAnalog => 0x00100001119,
            NamedKey::TVTerrestrialDigital => 0x0010000111a,
            NamedKey::TVTimer => 0x0010000111b,
            NamedKey::Key11 => 0x00100001201,
            NamedKey::Key12 => 0x00100001202,
            NamedKey::Control => 0x00200000100,
            NamedKey::Shift => 0x00200000102,
            NamedKey::Alt => 0x00200000104,
            NamedKey::Meta => 0x00200000106,
            _ => return None,
        },
        _ => return None,
    })
}
